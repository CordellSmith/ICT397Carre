<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Assignment2 - OOber Taxi: C:/Users/New/Documents/Games_Technology/Year4_Semester1/ICT397/~My Work/Assignment2/ICT397Carre/CarreGameEngine/Dependencies/BulletPhysicsEngine/include/BulletInverseDynamics/details/MultiBodyTreeImpl.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>C:/Users/New/Documents/Games_Technology/Year4_Semester1/ICT397/~My Work/Assignment2/ICT397Carre/CarreGameEngine/Dependencies/BulletPhysicsEngine/include/BulletInverseDynamics/details/MultiBodyTreeImpl.hpp</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// The structs and classes defined here provide a basic inverse fynamics implementation used</span>
<a name="l00002"></a>00002 <span class="comment">// by MultiBodyTree</span>
<a name="l00003"></a>00003 <span class="comment">// User interaction should be through MultiBodyTree</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="preprocessor">#ifndef MULTI_BODY_REFERENCE_IMPL_HPP_</span>
<a name="l00006"></a>00006 <span class="preprocessor"></span><span class="preprocessor">#define MULTI_BODY_REFERENCE_IMPL_HPP_</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span>
<a name="l00008"></a>00008 <span class="preprocessor">#include "../IDConfig.hpp"</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include "../MultiBodyTree.hpp"</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="keyword">namespace </span>btInverseDynamics {
<a name="l00012"></a>00012 
<a name="l00016"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html">00016</a> <span class="keyword">struct </span><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html">RigidBody</a> {
<a name="l00017"></a>00017         ID_DECLARE_ALIGNED_ALLOCATOR();
<a name="l00018"></a>00018         <span class="comment">// 1 Inertial properties</span>
<a name="l00020"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#9c2c26d13a5bfceeb1c936830ef98d75">00020</a> <span class="comment"></span>        idScalar <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#9c2c26d13a5bfceeb1c936830ef98d75" title="Mass.">m_mass</a>;
<a name="l00022"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#0fec2613f8d67563ae5450af75558832">00022</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#0fec2613f8d67563ae5450af75558832" title="Mass times center of gravity in body-fixed frame.">m_body_mass_com</a>;
<a name="l00024"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#dc6f5a9cc20ea241416a56839010c461">00024</a>         mat33 <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#dc6f5a9cc20ea241416a56839010c461" title="Moment of inertia w.r.t. body-fixed frame.">m_body_I_body</a>;
<a name="l00025"></a>00025 
<a name="l00026"></a>00026         <span class="comment">// 2 dynamic properties</span>
<a name="l00028"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#ba23569b6f1234b68eaaa8adc9bdbdd6">00028</a> <span class="comment"></span>        <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#ba23569b6f1234b68eaaa8adc9bdbdd6" title="Left-hand side of the body equation of motion, translational part.">m_eom_lhs_translational</a>;
<a name="l00030"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#e9529f5eab0aada265b62815c12dcaaf">00030</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#e9529f5eab0aada265b62815c12dcaaf" title="Left-hand side of the body equation of motion, rotational part.">m_eom_lhs_rotational</a>;
<a name="l00035"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#00b16b69c8a91774162c934ca8ec1e2c">00035</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#00b16b69c8a91774162c934ca8ec1e2c">m_force_at_joint</a>;
<a name="l00039"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#e72019499bdedb8dc12131a48b3a243c">00039</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#e72019499bdedb8dc12131a48b3a243c">m_moment_at_joint</a>;
<a name="l00042"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#c0d70c45cc5e1876fb7aba320293a7fb">00042</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#c0d70c45cc5e1876fb7aba320293a7fb">m_body_force_user</a>;
<a name="l00045"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#2525b72b49dff7c73e9d4056e6e13411">00045</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#2525b72b49dff7c73e9d4056e6e13411">m_body_moment_user</a>;
<a name="l00046"></a>00046         <span class="comment">// 3 absolute kinematic properties</span>
<a name="l00049"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#be1a189ee858529b691fe72beb819e5f">00049</a> <span class="comment"></span>        <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#be1a189ee858529b691fe72beb819e5f">m_body_pos</a>;
<a name="l00051"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#72cf1e877fe50ff6d927001c35d9a002">00051</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#72cf1e877fe50ff6d927001c35d9a002" title="Absolute velocity of body-fixed frame.">m_body_vel</a>;
<a name="l00055"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#67bb39b2dbbd0180395b251bdbae00c7">00055</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#67bb39b2dbbd0180395b251bdbae00c7">m_body_acc</a>;
<a name="l00057"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#4996f2d7851b6b69f77661a67cda7b59">00057</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#4996f2d7851b6b69f77661a67cda7b59" title="Absolute angular velocity.">m_body_ang_vel</a>;
<a name="l00061"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#8d32f2b5bcdf5f3a2566343de43ebb71">00061</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#8d32f2b5bcdf5f3a2566343de43ebb71">m_body_ang_acc</a>;
<a name="l00062"></a>00062 
<a name="l00063"></a>00063         <span class="comment">// 4 relative kinematic properties.</span>
<a name="l00064"></a>00064         <span class="comment">// these are in the parent body frame</span>
<a name="l00067"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#c923bac96faf25c431d498493ed9ff0e">00067</a> <span class="comment"></span>        mat33 <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#c923bac96faf25c431d498493ed9ff0e">m_body_T_world</a>;
<a name="l00069"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#c8807fda3577ce44b4acb5eb4467630e">00069</a>         mat33 <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#c8807fda3577ce44b4acb5eb4467630e" title="Transform from parent to body-fixed frame.">m_body_T_parent</a>;
<a name="l00071"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#cc114bbf3c15e79439d323a0559d85ce">00071</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#cc114bbf3c15e79439d323a0559d85ce" title="Vector from parent to child frame in parent frame.">m_parent_pos_parent_body</a>;
<a name="l00073"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#17c7199923a969db2fb6a2fc51677257">00073</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#17c7199923a969db2fb6a2fc51677257" title="Relative angular velocity.">m_body_ang_vel_rel</a>;
<a name="l00075"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#b134cf736fce044e8e1d58ccfb67c7cb">00075</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#b134cf736fce044e8e1d58ccfb67c7cb" title="Relative linear velocity.">m_parent_vel_rel</a>;
<a name="l00077"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#b96cf11aea9b987ef0f46d30bba62d03">00077</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#b96cf11aea9b987ef0f46d30bba62d03" title="Relative angular acceleration.">m_body_ang_acc_rel</a>;
<a name="l00079"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#a2bdf0b158eca1ab65c4f8ddef3cf0f9">00079</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#a2bdf0b158eca1ab65c4f8ddef3cf0f9" title="Relative linear acceleration.">m_parent_acc_rel</a>;
<a name="l00080"></a>00080 
<a name="l00081"></a>00081         <span class="comment">// 5 Data describing the joint type and geometry</span>
<a name="l00083"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#bf03ba35f65fcf499e232812fc6d50ff">00083</a> <span class="comment"></span>        JointType <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#bf03ba35f65fcf499e232812fc6d50ff" title="Type of joint.">m_joint_type</a>;
<a name="l00086"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#1bae64073eb9e0ff3f0d15c01a8bc9a1">00086</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#1bae64073eb9e0ff3f0d15c01a8bc9a1">m_parent_pos_parent_body_ref</a>;
<a name="l00088"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#4142975a0941e5706ce24323d51ae83d">00088</a>         mat33 <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#4142975a0941e5706ce24323d51ae83d" title="Orientation of joint frame (body-fixed frame at q=0) relative to the parent frame...">m_body_T_parent_ref</a>;
<a name="l00093"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#5ce5299988e53be540fa03c23b8bb63e">00093</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#5ce5299988e53be540fa03c23b8bb63e">m_Jac_JR</a>;
<a name="l00098"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#cedf67bbb73601a34c2909136fae1187">00098</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#cedf67bbb73601a34c2909136fae1187">m_Jac_JT</a>;
<a name="l00100"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#611f676adae686400eb0e080b63450f5">00100</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#611f676adae686400eb0e080b63450f5" title="m_Jac_JT in the parent frame, it, m_body_T_parent_ref.transpose()*m_Jac_JT">m_parent_Jac_JT</a>;
<a name="l00104"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#33784734bb817b0f117e5cc59f8e2d07">00104</a>         <span class="keywordtype">int</span> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#33784734bb817b0f117e5cc59f8e2d07">m_q_index</a>;
<a name="l00105"></a>00105 
<a name="l00106"></a>00106         <span class="comment">// 6 Scratch data for mass matrix computation using "composite rigid body algorithm"</span>
<a name="l00108"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#373da26934541537bcd9037f47502b5d">00108</a> <span class="comment"></span>        idScalar <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#373da26934541537bcd9037f47502b5d" title="mass of the subtree rooted in this body">m_subtree_mass</a>;
<a name="l00110"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#9e35e44f0444659a3b67aa6ac4e06a2e">00110</a>         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#9e35e44f0444659a3b67aa6ac4e06a2e" title="center of mass * mass for subtree rooted in this body, in body-fixed frame">m_body_subtree_mass_com</a>;
<a name="l00112"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#aae72e24abe3f1abb3d8b6dd3ef18d42">00112</a>         mat33 <a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#aae72e24abe3f1abb3d8b6dd3ef18d42" title="moment of inertia of subtree rooted in this body, w.r.t. body origin, in body-fixed...">m_body_subtree_I_body</a>;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 <span class="preprocessor">#if (defined BT_ID_HAVE_MAT3X) &amp;&amp; (defined BT_ID_WITH_JACOBIANS)</span>
<a name="l00116"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#dddc2c2b278ffde843dc9771c98741c8">00116</a> <span class="preprocessor">    mat3x m_body_Jac_T;</span>
<a name="l00118"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#59273d8e09a12a501c36ce482c6bab26">00118</a> <span class="preprocessor">    mat3x m_body_Jac_R;</span>
<a name="l00121"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#5b544206431b83f7e8f72004add66029">00121</a> <span class="preprocessor">    vec3 m_body_dot_Jac_T_u;</span>
<a name="l00124"></a><a class="code" href="structbt_inverse_dynamics_1_1_rigid_body.html#aabe7b9e48f3eb97fdfe8f764beb919f">00124</a> <span class="preprocessor">    vec3 m_body_dot_Jac_R_u;</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00126"></a>00126 <span class="preprocessor"></span>};
<a name="l00127"></a>00127 
<a name="l00129"></a><a class="code" href="classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl.html">00129</a> <span class="keyword">class </span><a class="code" href="classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl.html" title="The MBS implements a tree structured multibody system.">MultiBodyTree::MultiBodyImpl</a> {
<a name="l00130"></a>00130         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classbt_inverse_dynamics_1_1_multi_body_tree.html">MultiBodyTree</a>;
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 <span class="keyword">public</span>:
<a name="l00133"></a>00133         ID_DECLARE_ALIGNED_ALLOCATOR();
<a name="l00134"></a>00134 
<a name="l00135"></a>00135         <span class="keyword">enum</span> KinUpdateType {
<a name="l00136"></a>00136             POSITION_ONLY,
<a name="l00137"></a>00137             POSITION_VELOCITY,
<a name="l00138"></a>00138             POSITION_VELOCITY_ACCELERATION
<a name="l00139"></a>00139         };
<a name="l00140"></a>00140 
<a name="l00144"></a>00144         <a class="code" href="classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl.html#1451e035a52b67c1804d7dd0dd799af2">MultiBodyImpl</a>(<span class="keywordtype">int</span> num_bodies_, <span class="keywordtype">int</span> num_dofs_);
<a name="l00145"></a>00145 
<a name="l00147"></a>00147         <span class="keywordtype">int</span> <a class="code" href="classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl.html#408ca0c5fe8fcd75b2b8672e96c2237a">calculateInverseDynamics</a>(<span class="keyword">const</span> vecx&amp; q, <span class="keyword">const</span> vecx&amp; u, <span class="keyword">const</span> vecx&amp; dot_u,
<a name="l00148"></a>00148                                                                  vecx* joint_forces);
<a name="l00150"></a>00150         <span class="keywordtype">int</span> <a class="code" href="classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl.html#6e4b376b92377b3350d4ebfd94652a0f">calculateMassMatrix</a>(<span class="keyword">const</span> vecx&amp; q, <span class="keyword">const</span> <span class="keywordtype">bool</span> update_kinematics,
<a name="l00151"></a>00151                                                         <span class="keyword">const</span> <span class="keywordtype">bool</span> initialize_matrix, <span class="keyword">const</span> <span class="keywordtype">bool</span> set_lower_triangular_matrix,
<a name="l00152"></a>00152                                                         matxx* mass_matrix);
<a name="l00156"></a>00156         <span class="keywordtype">int</span> <a class="code" href="classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl.html#32cb26dc4a94027f8206182f5a528bea">calculateKinematics</a>(<span class="keyword">const</span> vecx&amp; q, <span class="keyword">const</span> vecx&amp; u, <span class="keyword">const</span> vecx&amp; dot_u, <span class="keyword">const</span> KinUpdateType type);
<a name="l00157"></a>00157 <span class="preprocessor">#if (defined BT_ID_HAVE_MAT3X) &amp;&amp; (defined BT_ID_WITH_JACOBIANS)</span>
<a name="l00159"></a>00159 <span class="preprocessor">    int calculateJacobians(const vecx&amp; q, const vecx&amp; u, const KinUpdateType type);</span>
<a name="l00161"></a>00161 <span class="preprocessor">    int getBodyDotJacobianTransU(const int body_index, vec3* world_dot_jac_trans_u) const ;</span>
<a name="l00163"></a>00163 <span class="preprocessor">    int getBodyDotJacobianRotU(const int body_index, vec3* world_dot_jac_rot_u) const;</span>
<a name="l00165"></a>00165 <span class="preprocessor">    int getBodyJacobianTrans(const int body_index, mat3x* world_jac_trans) const ;</span>
<a name="l00167"></a>00167 <span class="preprocessor">    int getBodyJacobianRot(const int body_index, mat3x* world_jac_rot) const;</span>
<a name="l00170"></a>00170 <span class="preprocessor">    void addRelativeJacobianComponent(RigidBody&amp;body);</span>
<a name="l00171"></a>00171 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00174"></a>00174 <span class="preprocessor">        int generateIndexSets();</span>
<a name="l00178"></a>00178 <span class="preprocessor">        int setGravityInWorldFrame(const vec3&amp; gravity);</span>
<a name="l00180"></a>00180 <span class="preprocessor">        void printTree();</span>
<a name="l00182"></a>00182 <span class="preprocessor">        void printTreeData();</span>
<a name="l00184"></a>00184 <span class="preprocessor">        void calculateStaticData();</span>
<a name="l00186"></a>00186 <span class="preprocessor">        int getBodyFrame(const int index, vec3* world_origin, mat33* body_T_world) const;</span>
<a name="l00188"></a>00188 <span class="preprocessor">        int getParentIndex(const int body_index, int* m_parent_index);</span>
<a name="l00190"></a>00190 <span class="preprocessor">        int getJointType(const int body_index, JointType* joint_type) const;</span>
<a name="l00192"></a>00192 <span class="preprocessor">        int getJointTypeStr(const int body_index, const char** joint_type) const;</span>
<a name="l00194"></a>00194 <span class="preprocessor">        int getParentRParentBodyRef(const int body_index, vec3* r) const;</span>
<a name="l00196"></a>00196 <span class="preprocessor">        int getBodyTParentRef(const int body_index, mat33* T) const;</span>
<a name="l00198"></a>00198 <span class="preprocessor">        int getBodyAxisOfMotion(const int body_index, vec3* axis) const;</span>
<a name="l00200"></a>00200 <span class="preprocessor">        int getDoFOffset(const int body_index, int* q_index) const;</span>
<a name="l00202"></a>00202 <span class="preprocessor">        int getBodyOrigin(const int body_index, vec3* world_origin) const;</span>
<a name="l00204"></a>00204 <span class="preprocessor">        int getBodyCoM(const int body_index, vec3* world_com) const;</span>
<a name="l00206"></a>00206 <span class="preprocessor">        int getBodyTransform(const int body_index, mat33* world_T_body) const;</span>
<a name="l00208"></a>00208 <span class="preprocessor">        int getBodyAngularVelocity(const int body_index, vec3* world_omega) const;</span>
<a name="l00210"></a>00210 <span class="preprocessor">        int getBodyLinearVelocity(const int body_index, vec3* world_velocity) const;</span>
<a name="l00212"></a>00212 <span class="preprocessor">        int getBodyLinearVelocityCoM(const int body_index, vec3* world_velocity) const;</span>
<a name="l00214"></a>00214 <span class="preprocessor">        int getBodyAngularAcceleration(const int body_index, vec3* world_dot_omega) const;</span>
<a name="l00216"></a>00216 <span class="preprocessor">        int getBodyLinearAcceleration(const int body_index, vec3* world_acceleration) const;</span>
<a name="l00218"></a>00218 <span class="preprocessor">        int getUserInt(const int body_index, int* user_int) const;</span>
<a name="l00220"></a>00220 <span class="preprocessor">        int getUserPtr(const int body_index, void** user_ptr) const;</span>
<a name="l00222"></a>00222 <span class="preprocessor">        int setUserInt(const int body_index, const int user_int);</span>
<a name="l00224"></a>00224 <span class="preprocessor">        int setUserPtr(const int body_index, void* const user_ptr);</span>
<a name="l00226"></a>00226 <span class="preprocessor">        int setBodyMass(const int body_index, const idScalar mass);</span>
<a name="l00228"></a>00228 <span class="preprocessor">        int setBodyFirstMassMoment(const int body_index, const vec3&amp; first_mass_moment);</span>
<a name="l00230"></a>00230 <span class="preprocessor">        int setBodySecondMassMoment(const int body_index, const mat33&amp; second_mass_moment);</span>
<a name="l00232"></a>00232 <span class="preprocessor">        int getBodyMass(const int body_index, idScalar* mass) const;</span>
<a name="l00234"></a>00234 <span class="preprocessor">        int getBodyFirstMassMoment(const int body_index, vec3* first_mass_moment) const;</span>
<a name="l00236"></a>00236 <span class="preprocessor">        int getBodySecondMassMoment(const int body_index, mat33* second_mass_moment) const;</span>
<a name="l00238"></a>00238 <span class="preprocessor">        void clearAllUserForcesAndMoments();</span>
<a name="l00240"></a>00240 <span class="preprocessor">        int addUserForce(const int body_index, const vec3&amp; body_force);</span>
<a name="l00242"></a>00242 <span class="preprocessor">        int addUserMoment(const int body_index, const vec3&amp; body_moment);</span>
<a name="l00243"></a>00243 <span class="preprocessor"></span>
<a name="l00244"></a>00244 <span class="keyword">private</span>:
<a name="l00245"></a>00245         <span class="comment">// debug function. print tree structure to stdout</span>
<a name="l00246"></a>00246         <span class="keywordtype">void</span> <a class="code" href="classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl.html#52b68afe0f3404617e2de19df70a4c5f" title="pretty print tree">printTree</a>(<span class="keywordtype">int</span> index, <span class="keywordtype">int</span> indentation);
<a name="l00247"></a>00247         <span class="comment">// get string representation of JointType (for debugging)</span>
<a name="l00248"></a>00248         <span class="keyword">const</span> <span class="keywordtype">char</span>* jointTypeToString(<span class="keyword">const</span> JointType&amp; type) <span class="keyword">const</span>;
<a name="l00249"></a>00249         <span class="comment">// get number of degrees of freedom from joint type</span>
<a name="l00250"></a>00250         <span class="keywordtype">int</span> bodyNumDoFs(<span class="keyword">const</span> JointType&amp; type) <span class="keyword">const</span>;
<a name="l00251"></a>00251         <span class="comment">// number of bodies in the system</span>
<a name="l00252"></a>00252         <span class="keywordtype">int</span> m_num_bodies;
<a name="l00253"></a>00253         <span class="comment">// number of degrees of freedom</span>
<a name="l00254"></a>00254         <span class="keywordtype">int</span> m_num_dofs;
<a name="l00255"></a>00255         <span class="comment">// Gravitational acceleration (in world frame)</span>
<a name="l00256"></a>00256         <a class="code" href="classbt_inverse_dynamics_1_1vec3.html">vec3</a> m_world_gravity;
<a name="l00257"></a>00257         <span class="comment">// vector of bodies in the system</span>
<a name="l00258"></a>00258         <span class="comment">// body 0 is used as an environment body and is allways fixed.</span>
<a name="l00259"></a>00259         <span class="comment">// The bodies are ordered such that a parent body always has an index</span>
<a name="l00260"></a>00260         <span class="comment">// smaller than its child.</span>
<a name="l00261"></a>00261         idArray&lt;RigidBody&gt;::type m_body_list;
<a name="l00262"></a>00262         <span class="comment">// Parent_index[i] is the index for i's parent body in body_list.</span>
<a name="l00263"></a>00263         <span class="comment">// This fully describes the tree.</span>
<a name="l00264"></a>00264         idArray&lt;int&gt;::type m_parent_index;
<a name="l00265"></a>00265         <span class="comment">// child_indices[i] contains a vector of indices of</span>
<a name="l00266"></a>00266         <span class="comment">// all children of the i-th body</span>
<a name="l00267"></a>00267         idArray&lt;idArray&lt;int&gt;::type&gt;::type m_child_indices;
<a name="l00268"></a>00268         <span class="comment">// Indices of rotary joints</span>
<a name="l00269"></a>00269         idArray&lt;int&gt;::type m_body_revolute_list;
<a name="l00270"></a>00270         <span class="comment">// Indices of prismatic joints</span>
<a name="l00271"></a>00271         idArray&lt;int&gt;::type m_body_prismatic_list;
<a name="l00272"></a>00272         <span class="comment">// Indices of floating joints</span>
<a name="l00273"></a>00273         idArray&lt;int&gt;::type m_body_floating_list;
<a name="l00274"></a>00274         <span class="comment">// a user-provided integer</span>
<a name="l00275"></a>00275         idArray&lt;int&gt;::type m_user_int;
<a name="l00276"></a>00276         <span class="comment">// a user-provided pointer</span>
<a name="l00277"></a>00277         idArray&lt;void*&gt;::type m_user_ptr;
<a name="l00278"></a>00278 <span class="preprocessor">#if (defined BT_ID_HAVE_MAT3X) &amp;&amp; (defined BT_ID_WITH_JACOBIANS)</span>
<a name="l00279"></a>00279 <span class="preprocessor"></span>        mat3x m_m3x;
<a name="l00280"></a>00280 <span class="preprocessor">#endif</span>
<a name="l00281"></a>00281 <span class="preprocessor"></span>};
<a name="l00282"></a>00282 }
<a name="l00283"></a>00283 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jun 1 12:56:48 2018 for Assignment2 - OOber Taxi by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
